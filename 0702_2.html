<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>2_3</title>
</head>
<body>
    <button type="text" id="btn"> 추가 </button>
    <button type="text" id="get"> 가져오기 </button>
    <div id="box"></div>
        <script>
            window.addEventListener('load', function() {
                console.log('load');
                const gArray = JSON.parse(window.localStorage.getItem('aaa'));
                const aaa = window.localStorage.getItem('aaa');    

                if(aaa === null) {
                    console.log('null');
                }else{
                    for(let i=0; i<gArray.length; i++) {
                        const div = document.createElement('div');
                        const input = document.createElement('input');
                        div.appendChild(input);
                        document.querySelector('#box').appendChild(div);
                        input.value = gArray[i];
                        }
                    }
            })
            document
            .querySelector('#btn')
            .addEventListener('click', function () {
                const div = document.createElement('div');

                const input = document.createElement('input');
                input.type = 'text';
                div.appendChild(input);
                document.querySelector('#box').appendChild(div);
            })
            
            let gArray = [];
            document
            .querySelector('#get')
            .addEventListener('click', function () {
                const arr = document.querySelectorAll('input');
                for(let i=0; i <arr.length; i++) {
                        gArray.push(arr[i].value);
                    }
                    console.log(gArray);
                    JSON.stringify(gArray);
                    localStorage.setItem('aaa', JSON.stringify(gArray));
            })

            
            </script>
        </body>
</html>